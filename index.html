<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>東京 6 天 5 夜 (最終修訂版)</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@400;500;700&display=swap');
        
        body {
            font-family: 'Noto Sans TC', sans-serif;
            background-color: #fdf2f8;
        }
        
        .no-scrollbar::-webkit-scrollbar {
            display: none;
        }
        .no-scrollbar {
            -ms-overflow-style: none;
            scrollbar-width: none;
        }

        .mobile-frame {
            box-shadow: 0 20px 25px -5px rgba(251, 113, 133, 0.15), 0 10px 10px -5px rgba(251, 113, 133, 0.1);
        }

        .flower-container {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            overflow: hidden;
            pointer-events: none;
            z-index: 50;
        }
        
        .petal {
            position: absolute;
            background: linear-gradient(135deg, #fbcfe8 0%, #f43f5e 100%);
            border-radius: 100% 0% 100% 0%;
            opacity: 0.7;
            pointer-events: none;
            filter: drop-shadow(0 0 2px rgba(255,255,255,0.5));
        }

        @keyframes fall {
            0% {
                transform: translateY(-5vh) translateX(0) rotate(0deg);
                opacity: 0;
            }
            10% {
                opacity: 0.8;
            }
            100% {
                transform: translateY(105vh) translateX(20px) rotate(360deg);
                opacity: 0;
            }
        }
    </style>
</head>
<body class="flex justify-center min-h-screen bg-rose-50 py-0 md:py-8 overflow-hidden relative">

    <div id="body-flower-container" class="flower-container fixed inset-0 z-0"></div>

    <div class="w-full max-w-md bg-[#fff1f2] md:rounded-[2.5rem] overflow-hidden mobile-frame relative h-screen md:h-[850px] flex flex-col z-10 border-4 border-white/50">
        
        <div id="app-flower-container" class="flower-container"></div>

        <div class="bg-gradient-to-br from-rose-200 via-rose-100 to-white px-6 pt-10 pb-8 flex-shrink-0 relative">
            <div class="flex justify-between items-start mb-1 relative z-10">
                <h1 class="text-xl font-bold text-gray-800 text-shadow-sm">東京 6 天 5 夜</h1>
            </div>
            <div class="relative z-10 flex items-center text-rose-800 text-sm bg-white/60 backdrop-blur-md px-3 py-1 rounded-full w-fit shadow-sm border border-white/40">
                <i class="far fa-clock mr-2"></i>
                <span>2026/02/05 (四) ~ 02/10 (二)</span>
            </div>
            <div class="absolute top-[-30px] right-[-30px] w-40 h-40 bg-gradient-to-br from-rose-400 to-orange-300 rounded-full opacity-20 blur-2xl pointer-events-none"></div>
        </div>

        <div class="px-5 -mt-6 flex-shrink-0 z-20 relative">
            <div class="bg-white/90 backdrop-blur-sm rounded-2xl shadow-lg p-4 border border-rose-100 flex items-center justify-between ring-1 ring-rose-50">
                <div class="flex items-center gap-3 w-full">
                    <div class="w-10 h-10 flex-shrink-0 rounded-xl bg-gradient-to-br from-indigo-50 to-purple-50 flex items-center justify-center text-indigo-500 shadow-inner">
                        <i class="fas fa-hotel"></i>
                    </div>
                    <div class="flex-1">
                        <div class="text-[10px] text-gray-400 font-bold tracking-wider mb-1">分段住宿 (點擊導航)</div>
                        <div class="flex flex-col gap-1">
                            <!-- 已加入 Google Maps 連結 -->
                            <a href="https://www.google.com/maps/search/?api=1&query=ent+terrace+Akihabara" target="_blank" class="flex justify-between items-center border-b border-gray-100 pb-1 hover:bg-rose-50 transition-colors rounded px-1 -mx-1 group cursor-pointer">
                                <div class="flex items-center">
                                    <i class="fas fa-map-marker-alt text-[10px] text-rose-400 mr-1.5 animate-bounce"></i>
                                    <span class="text-xs font-bold text-gray-800 group-hover:text-rose-600 underline decoration-rose-200 underline-offset-2">ent terrace 秋葉原</span>
                                </div>
                                <span class="text-[10px] text-rose-500 font-mono bg-rose-50 px-1 rounded">2/5-9 (4晚)</span>
                            </a>
                            <a href="https://www.google.com/maps/search/?api=1&query=International+Garden+Hotel+Narita" target="_blank" class="flex justify-between items-center pt-0.5 hover:bg-blue-50 transition-colors rounded px-1 -mx-1 group cursor-pointer">
                                <div class="flex items-center">
                                    <i class="fas fa-map-marker-alt text-[10px] text-blue-400 mr-1.5 animate-bounce" style="animation-delay: 0.1s;"></i>
                                    <span class="text-xs font-bold text-gray-800 group-hover:text-blue-600 underline decoration-blue-200 underline-offset-2">成田國際花園酒店</span>
                                </div>
                                <span class="text-[10px] text-blue-500 font-mono bg-blue-50 px-1 rounded">2/9-10 (1晚)</span>
                            </a>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="px-5 mt-6 flex-shrink-0 relative z-20">
            <div class="flex overflow-x-auto no-scrollbar gap-3 pb-2" id="dateTabs"></div>
        </div>

        <div class="flex-1 overflow-y-auto px-5 pt-2 pb-20 no-scrollbar relative z-10" id="contentArea"></div>

        <div class="absolute bottom-0 left-0 right-0 h-24 bg-gradient-to-t from-[#fff1f2] via-[#fff1f2]/80 to-transparent pointer-events-none md:rounded-b-[2.5rem] z-20"></div>
    </div>

    <script>
        const itinerary = [
            {
                id: 1,
                dayLabel: "Day 1",
                dateLabel: "02/05",
                title: "抵達秋葉原",
                events: [
                    { time: "18:15", title: "抵達成田機場", type: "flight", desc: "GK018 航班 (T3航廈)" },
                    { time: "交通", title: "前往秋葉原", type: "transport", 
                        content: `<div class="bg-green-50/80 p-3 rounded-xl border border-green-100 space-y-1">
                            <p class="text-xs text-green-800 font-bold">推薦路線 (Skyliner)</p>
                            <p class="text-xs text-gray-600">成田搭 Skyliner ➝ 日暮里 (轉 JR 山手線) ➝ 秋葉原。</p>
                            <p class="text-[10px] text-gray-400">秋葉原站昭和通口出站較近。</p>
                        </div>` 
                    },
                    { time: "晚餐", title: "秋葉原周邊", type: "food", desc: "入住 ent terrace，附近燒肉/拉麵眾多。" }
                ]
            },
            {
                id: 2,
                dayLabel: "Day 2",
                dateLabel: "02/06",
                title: "河口湖 (已訂)",
                events: [
                    { time: "全日", title: "KKday 河口湖一日遊", type: "bus", desc: "請務必確認訂單上的【集合地點】與【時間】。" },
                    { time: "提醒", title: "集合交通", type: "alert", desc: "若在東京站集合：秋葉原搭 JR 山手線/京濱東北線只需 4 分鐘。" },
                    { time: "晚餐", title: "返回市區", type: "food", desc: "行程結束後用餐，回秋葉原休息。" }
                ]
            },
            {
                id: 3,
                dayLabel: "Day 3",
                dateLabel: "02/07",
                title: "強運 & 雷門",
                events: [
                    { time: "上午", title: "小網神社", type: "star", desc: "東京最強強運厄除、洗錢弁天 (日比谷線：秋葉原➝人形町，A2出口)。" },
                    { time: "中午", title: "淺草雷門", type: "camera", desc: "人形町搭【都營淺草線】直達淺草。逛仲見世通、拍大燈籠。" },
                    { time: "下午", title: "晴空塔/合羽橋", type: "walk", desc: "可散步去晴空塔 (Solamachi) 或逛合羽橋道具街。" },
                    { time: "晚餐", title: "淺草美食", type: "food", desc: "淺草今半 (壽喜燒) 或 淺草炸牛排。" }
                ]
            },
            {
                id: 4,
                dayLabel: "Day 4",
                dateLabel: "02/08",
                title: "澀谷 BAPE & SKY",
                events: [
                    { time: "10:30", title: "出門", type: "info", desc: "秋葉原搭 JR 山手線直達澀谷 (約 30 分)。" },
                    { time: "11:00", title: "BAPE STORE®", type: "shop", desc: "Shibuya 店開門，先買先贏。" },
                    { time: "午餐", title: "澀谷商圈", type: "food", desc: "PARCO (極味屋漢堡排) 或宮下公園。" },
                    { time: "15:30", title: "SHIBUYA SKY", type: "warn", desc: "【務必提前搶票】建議預約 16:00 時段。請提早到 Scramble Square 14F 報到。" },
                    { time: "傍晚", title: "澀谷逛街", type: "walk", desc: "MEGA 唐吉訶德、Loft、Nintendo Tokyo (PARCO)。" }
                ]
            },
            {
                id: 5,
                dayLabel: "Day 5",
                dateLabel: "02/09",
                title: "鎌倉 & 移動日",
                events: [
                    { time: "09:00", title: "退房 & 寄行李", type: "info", 
                      content: `<div class="bg-red-50/80 p-2 rounded border border-red-100 text-xs text-red-600">
                        <strong>關鍵策略：</strong>帶著行李搭 JR 到【東京站】，寄放在改札內置物櫃。因為去鎌倉的車跟回機場的車都在這搭。
                      </div>`
                    },
                    { time: "上午", title: "前往鎌倉", type: "train", desc: "東京站搭 JR 橫須賀線 (直達鎌倉，約 60 分)。" },
                    { time: "行程", title: "湘南海岸散策", type: "camera", desc: "小町通、鶴岡八幡宮、江之電 (鎌倉高校前、大佛)。" },
                    { time: "17:00", title: "取行李 & 往成田", type: "transport", 
                      content: `<div class="bg-blue-50/80 p-2 rounded border border-blue-100 text-xs text-blue-800">
                        1. 回東京站取行李。<br>
                        2. 在東京站搭【機場巴士】(1300円) 或 【N'EX】去成田機場。<br>
                        3. 轉乘飯店接駁車 Check-in。
                      </div>`
                    },
                    { time: "入住", title: "成田國際花園酒店", type: "hotel", desc: "好好休息，不用煩惱明早的電車。" }
                ]
            },
            {
                id: 6,
                dayLabel: "Day 6",
                dateLabel: "02/10",
                title: "悠閒回程",
                events: [
                    { time: "06:30", title: "飯店接駁", type: "bus", desc: "搭乘飯店接駁車前往成田機場 T2 (請 Check-in 時預約或確認時刻表)。" },
                    { time: "07:00", title: "機場報到", type: "info", desc: "日航 JL8663 在 T2 辦理託運。" },
                    { time: "09:00", title: "起飛", type: "flight", desc: "12:05 抵達桃園，平安回家。" }
                ]
            }
        ];

        let currentDayId = 1;

        function getIcon(type) {
            const map = {
                flight: 'fa-plane-departure',
                info: 'fa-suitcase',
                transport: 'fa-route',
                food: 'fa-utensils',
                bus: 'fa-bus',
                star: 'fa-star',
                warn: 'fa-exclamation-circle',
                subway: 'fa-train-subway',
                shop: 'fa-bag-shopping',
                walk: 'fa-person-walking',
                camera: 'fa-camera',
                train: 'fa-train',
                alert: 'fa-bell',
                hotel: 'fa-bed'
            };
            return map[type] || 'fa-circle';
        }

        function getColor(type) {
            const map = {
                flight: 'text-blue-500 bg-blue-50',
                info: 'text-gray-500 bg-gray-100',
                transport: 'text-green-600 bg-green-50',
                food: 'text-orange-500 bg-orange-50',
                bus: 'text-indigo-500 bg-indigo-50',
                star: 'text-yellow-500 bg-yellow-50',
                warn: 'text-red-600 bg-red-50',
                subway: 'text-teal-600 bg-teal-50',
                shop: 'text-pink-500 bg-pink-50',
                walk: 'text-emerald-500 bg-emerald-50',
                camera: 'text-purple-500 bg-purple-50',
                train: 'text-blue-600 bg-blue-50',
                alert: 'text-red-500 bg-red-50',
                hotel: 'text-indigo-600 bg-indigo-50'
            };
            return map[type] || 'text-gray-400 bg-gray-50';
        }

        function renderTabs() {
            const container = document.getElementById('dateTabs');
            container.innerHTML = itinerary.map(day => {
                const isActive = day.id === currentDayId;
                const activeClass = isActive 
                    ? 'bg-rose-500 text-white shadow-lg shadow-rose-200 transform scale-105 border-transparent' 
                    : 'bg-white text-gray-400 border border-rose-100 hover:bg-rose-50';
                const dateClass = isActive ? 'text-rose-100' : 'text-gray-300';
                
                return `
                    <button onclick="switchDay(${day.id})" class="flex-shrink-0 w-[4.5rem] h-[4.5rem] rounded-2xl flex flex-col items-center justify-center transition-all duration-300 ${activeClass}">
                        <span class="text-sm font-bold leading-tight">${day.dayLabel}</span>
                        <span class="text-[10px] font-medium mt-1 ${dateClass}">${day.dateLabel}</span>
                    </button>
                `;
            }).join('');
        }

        function renderContent() {
            const container = document.getElementById('contentArea');
            const dayData = itinerary.find(d => d.id === currentDayId);
            
            let html = `
                <div class="mb-6 animate-fade-in relative z-10">
                    <h2 class="text-lg font-bold text-gray-800 flex items-center">
                        <span class="w-1.5 h-6 bg-gradient-to-b from-rose-400 to-rose-600 rounded-full mr-3 shadow-sm"></span>
                        ${dayData.title}
                    </h2>
                </div>
                <div class="relative pl-4 space-y-8 animate-slide-up pb-4">
                    <div class="absolute left-[27px] top-4 bottom-4 w-0.5 border-l-2 border-dashed border-rose-200/60"></div>
            `;

            html += dayData.events.map(event => {
                const colorClass = getColor(event.type);
                const iconClass = getIcon(event.type);
                
                return `
                    <div class="relative flex gap-4 items-start z-10 group">
                        <div class="flex-shrink-0 w-8 h-8 rounded-full ${colorClass} flex items-center justify-center border-2 border-white shadow-md z-10 transition-transform duration-300 group-hover:scale-110">
                            <i class="fas ${iconClass} text-xs"></i>
                        </div>
                        <div class="flex-1 bg-white/95 backdrop-blur-sm p-3.5 rounded-2xl shadow-sm border border-rose-50 hover:shadow-md transition-shadow duration-300">
                            <div class="flex justify-between items-start mb-1">
                                <h3 class="font-bold text-gray-800 text-sm">${event.title}</h3>
                                <span class="text-xs font-semibold text-rose-500 bg-rose-50 px-2 py-0.5 rounded-md border border-rose-100">${event.time}</span>
                            </div>
                            ${event.content ? event.content : `<p class="text-xs text-gray-500 leading-relaxed">${event.desc}</p>`}
                        </div>
                    </div>
                `;
            }).join('');

            html += `</div>`;
            container.innerHTML = html;
        }

        function switchDay(id) {
            currentDayId = id;
            renderTabs();
            renderContent();
        }

        function createPetal(containerId) {
            const container = document.getElementById(containerId);
            if (!container) return;
            const petal = document.createElement('div');
            petal.classList.add('petal');
            const size = Math.random() * 8 + 6;
            petal.style.width = `${size}px`;
            petal.style.height = `${size}px`;
            petal.style.left = `${Math.random() * 100}%`;
            const duration = Math.random() * 5 + 4;
            petal.style.animationName = 'fall';
            petal.style.animationDuration = `${duration}s`;
            petal.style.animationTimingFunction = 'linear';
            petal.addEventListener('animationend', () => petal.remove());
            container.appendChild(petal);
        }

        function startFlowerEffect() {
            setInterval(() => createPetal('app-flower-container'), 600);
            setInterval(() => createPetal('body-flower-container'), 1200);
        }

        document.addEventListener('DOMContentLoaded', () => {
            renderTabs();
            renderContent();
            startFlowerEffect();
            const style = document.createElement('style');
            style.innerHTML = `
                @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
                @keyframes slideUp { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
                .animate-fade-in { animation: fadeIn 0.4s ease-out; }
                .animate-slide-up { animation: slideUp 0.4s ease-out; }
            `;
            document.head.appendChild(style);
        });
    </script>
</body>
</html>
